---
title: "Chương 10: C++20"
type: book-vi-vn
order: 10
---

# Chương 10: C++20

[TOC]

C++20 hứa hẹn sẽ là một bản cập nhật đầy thú vị. Ví dụ, tính năng Concept,
từng được mong đợi từ C++11 nhưng cuối cùng bị loại bỏ,
giờ đây đã được đưa vào C++20. Ủy ban Tiêu chuẩn C++ đã bỏ phiếu thông qua
nhiều tính năng mới cho C++20, bao gồm **Concepts**, **Modules**,
**Coroutine**, **Ranges**, v.v. Trong chương này, chúng ta sẽ điểm qua
một số tính năng quan trọng của C++20.

## Concept

Concept là một cải tiến cho lập trình template trong C++.
Nói một cách đơn giản, Concept là một cơ chế kiểm tra kiểu dữ liệu
tại thời điểm biên dịch.
Nó cho phép trình biên dịch kiểm tra các ràng buộc của tham số template
tại thời điểm biên dịch, giúp cải thiện đáng kể trải nghiệm lập trình template
trong C++.

Khi lập trình với template, chúng ta thường gặp phải các lỗi khó hiểu.
Điều này là do trước đây chúng ta không có cách nào để kiểm tra
và ràng buộc các tham số template.
Ví dụ, hai dòng mã sau có thể gây ra rất nhiều lỗi biên dịch
khó hiểu:

```cpp
#include <algorithm>
#include <list>

int main() {
  std::list<int> l = {1, 2, 3};
  std::sort(l.begin(), l.end());
  return 0;
}
```

Lỗi này xảy ra do `std::sort` yêu cầu container phải cung cấp
iterator ngẫu nhiên (random access iterator),
trong khi `std::list` chỉ hỗ trợ bidirectional iterator.
Nói cách khác, iterator của `std::list` không thỏa mãn ràng buộc
của concept "random access iterator" mà `std::sort` yêu cầu.

Với Concept, chúng ta có thể ràng buộc các tham số template như sau:

```cpp
template <typename T>
requires Sortable<T> // Sortable là một Concept
void sort(T& c);
```

hoặc viết gọn hơn:

```cpp
template <Sortable T> // T là một kiểu dữ liệu thỏa mãn Concept Sortable
void sort(T& c);
```

Thậm chí, chúng ta có thể sử dụng Concept như một kiểu dữ liệu:

```cpp
void sort(Sortable& c); // c là một đối tượng thỏa mãn Concept Sortable
```

Hãy cùng xem một ví dụ thực tế.

TODO:

## Module

TODO:

## Contract

TODO:

## Range

TODO:

## Coroutine

TODO:

## Kết luận

C++20 là một bản cập nhật đầy hứa hẹn với nhiều tính năng mới hấp dẫn,
bao gồm Concepts, Ranges và Modules.
Những tính năng này giúp C++, một ngôn ngữ lập trình đã hơn 30 năm tuổi,
vẫn giữ được sức hút của mình.

[Mục lục](./toc.md) | [Chương trước](./09-others.md) | [Phụ lục 1](./appendix1.md)

## Đọc thêm

- [Tại sao Concepts không được đưa vào C++17?](http://honermann.net/blog/2016/03/06/why-concepts-didnt-make-cxx17/)
- [Hỗ trợ trình biên dịch cho C++11/14/17/20](https://en.cppreference.com/w/cpp/compiler_support)
- [Lịch sử của C++](https://en.cppreference.com/w/cpp/language/history)

## Giấy phép

<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Giấy phép Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />Tác phẩm này được viết bởi [Ou Changkun](https://changkun.de) và được cấp phép theo <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Giấy phép Quốc tế Creative Commons Attribution-NonCommercial-NoDerivatives 4.0</a>. Mã nguồn của kho lưu trữ này được mở theo [giấy phép MIT](../../LICENSE).
